<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<script src="js/main.js"></script>
</head>
<body>
	<ul>
		<li><a href="/" class="back">to home</a></li>
		<li class="list-item"><a href="https://learn.javascript.ru/data-structures" target="blank">Структуры данных</a></li>
	</ul>
	
	<script>
		// Info
		// str.toUpperCase() - метод который возвращает строку в верхнем регистре
		// num.toFixed(n)) кругляет число num до n знаков после запятой
		// isNaN(n) - NaN true
		// isFinite(n) - преобразует аргумент к числу и возвращает true, если это не NaN/Infinity/-Infinity

		/*==== ОБЪЕКТЫ КАК АССОЦИАТИВНЫЕ МАССИВЫ START ====*/
		// Создание объектов
		/*
		1. o = new Object();
		2. o = {};
		*/

		// доступ к свойствам объекта
		// объект.свойство
		// объект['свойство']

		(function() {
			if (0) {
				var person = {
					name: "Jon",
					age: 30,
					size: {
						top: 90,
						middle: 60,
						bottom: 90
					}
				};

				person['name'] = 'Jack';

				delete person.age;
				person.age = 25;

				console.log('age' in person); /*проверка in*/

				if (person.age !== undefined) console.log(person['age']); /*проверка === undefined*/

				console.log(person);

				/*Доступ к свойству через переменную*/
				var key = 'age';
				console.log( person[key] );
			}
		})();

		// Первый объект

		(function () {

			if(0) {

				var user = {};
				user.name = 'Вася';
				user.surname = 'Петров';
				user.name = 'Сергей';
				delete user.name;

			}

		})();

		/*==== ОБЪЕКТЫ КАК АССОЦИАТИВНЫЕ МАССИВЫ END ====*/

		/*==== ОБЪЕКТЫ: ПЕРЕБОР СВОЙСТВ START ====*/
		
		// for..in // for (key in obj)

		(function() {

			if(0) {

				var menu = {
					width: 300,
					height: 200,
					title: "Menu"
				};

				for (var key in menu) {
					console.log('option: ' + key + '\n value: ' + menu[key]);
				}

			}

			/*Определите, пуст ли объект*/
			if(0) {
				function isEmpty(obj) {
					var i = 0;
					for (var x in obj) i++;
						return i ? false : true;
				}

				var schedule = {};

				console.log( 'before: ' + isEmpty(schedule) );
				schedule["8:30"] = "подъём";
				console.log( 'after: ' + isEmpty(schedule) );

				// from source
				function isEmpty(obj) {
					for (var key in obj) {
						return false;
					}
					return true;
				}
			}

			/*Сумма свойств*/
			if(0) {
				(function () {
					"use strict";

					var
					sum = 0,
					salaries = {
						"Вася": 100,
						"Петя": 300,
						"Даша": 250
					};

					for (key in salaries) {
						sum += salaries[key];
					}
					console.log(sum);

				})();

			}

			/*Умножьте численные свойства на 2*/
			if(0) {
				function isNumeric(n) {
					return !isNaN(parseFloat(n)) && isFinite(n)
				};

				var menu = {
					width: 200,
					height: 300,
					title: "My menu"
				};

				function multiplyNumeric (obj) {
					for (key in obj) {
						if (isNumeric(obj[key])) {
							obj[key] *= 2;
						}
					}
					console.log(obj);
				};
				multiplyNumeric(menu);
			};

		})();

		/*==== ОБЪЕКТЫ: ПЕРЕБОР СВОЙСТВ END ====*/

		/*==== МАССИВЫ С ЧИСЛОВЫМИ ИНДЕКСАМИ START ====*/

		// var arr = [];
		// var arr = new Array();

		/*Методы pop/push, shift/unshift*/
		// pop - Удаляет последний элемент из массива и возвращает его
		// push - Добавляет элемент в конец массива
		// shift - Удаляет из массива первый элемент и возвращает его
		// unshift - Добавляет элемент в начало массива

		(function () {

			var a = ['aa','bb','cc', 'dd'];
			var b = a;
			b[8] = 'b add';
			a['kk'] = "ff";
			a[9] = "dd";
			console.log(a);
			console.log(b);
			console.log(a.length);

			for (var i = 0; i < a.length; i++) {
				if (a[i] == 'dd') {
					a[i] = 'changed';
				}
			}

			console.log(String(a));
			console.log('b: ' + b);
			console.log(a.length = 2);
			console.log(a.join(' '));

		})();


		/*==== МАССИВЫ С ЧИСЛОВЫМИ ИНДЕКСАМИ END ====*/


	</script>

</body>
</html>