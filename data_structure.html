<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<script src="js/main.js"></script>
</head>
<body>
	<ul>
		<li><a href="/" class="back">to home</a></li>
		<li class="list-item"><a href="https://learn.javascript.ru/data-structures" target="blank">Структуры данных</a></li>
	</ul>
	
	<script>
		// Info
		// str.toUpperCase() - метод который возвращает строку в верхнем регистре
		// num.toFixed(n)) кругляет число num до n знаков после запятой
		// isNaN(n) - NaN true
		// isFinite(n) - преобразует аргумент к числу и возвращает true, если это не NaN/Infinity/-Infinity

		/*==== ОБЪЕКТЫ КАК АССОЦИАТИВНЫЕ МАССИВЫ START ====*/
		// Создание объектов
		/*
		1. o = new Object();
		2. o = {};
		*/

		// доступ к свойствам объекта
		// объект.свойство
		// объект['свойство']

		(function() {
			if (0) {
				var person = {
					name: "Jon",
					age: 30,
					size: {
						top: 90,
						middle: 60,
						bottom: 90
					}
				};

				person['name'] = 'Jack';

				delete person.age;
				person.age = 25;

				console.log('age' in person); /*проверка in*/

				if (person.age !== undefined) console.log(person['age']); /*проверка === undefined*/

				console.log(person);

				/*Доступ к свойству через переменную*/
				var key = 'age';
				console.log( person[key] );
			}
		})();

		// Первый объект

		(function () {

			if(0) {

				var user = {};
				user.name = 'Вася';
				user.surname = 'Петров';
				user.name = 'Сергей';
				delete user.name;

			}

		})();

		/*==== ОБЪЕКТЫ КАК АССОЦИАТИВНЫЕ МАССИВЫ END ====*/

		/*==== ОБЪЕКТЫ: ПЕРЕБОР СВОЙСТВ START ====*/
		
		// for..in // for (key in obj)

		(function() {

			if(0) {

				var menu = {
					width: 300,
					height: 200,
					title: "Menu"
				};

				for (var key in menu) {
					console.log('option: ' + key + '\n value: ' + menu[key]);
				}

			}

			/*Определите, пуст ли объект*/
			if(0) {
				function isEmpty(obj) {
					var i = 0;
					for (var x in obj) i++;
						return i ? false : true;
				}

				var schedule = {};

				console.log( 'before: ' + isEmpty(schedule) );
				schedule["8:30"] = "подъём";
				console.log( 'after: ' + isEmpty(schedule) );

				// from source
				function isEmpty(obj) {
					for (var key in obj) {
						return false;
					}
					return true;
				}
			}

			/*Сумма свойств*/
			if(0) {
				(function () {
					"use strict";

					var
					sum = 0,
					salaries = {
						"Вася": 100,
						"Петя": 300,
						"Даша": 250
					};

					for (key in salaries) {
						sum += salaries[key];
					}
					console.log(sum);

				})();

			}

			/*Умножьте численные свойства на 2*/
			if(0) {
				function isNumeric(n) {
					return !isNaN(parseFloat(n)) && isFinite(n)
				};

				var menu = {
					width: 200,
					height: 300,
					title: "My menu"
				};

				function multiplyNumeric (obj) {
					for (key in obj) {
						if (isNumeric(obj[key])) {
							obj[key] *= 2;
						}
					}
					console.log(obj);
				};
				multiplyNumeric(menu);
			};

		})();

		/*==== ОБЪЕКТЫ: ПЕРЕБОР СВОЙСТВ END ====*/

		/*==== МАССИВЫ С ЧИСЛОВЫМИ ИНДЕКСАМИ START ====*/

		// var arr = [];
		// var arr = new Array();

		/*Методы pop/push, shift/unshift*/
		// pop - Удаляет последний элемент из массива и возвращает его
		// push - Добавляет элемент в конец массива
		// shift - Удаляет из массива первый элемент и возвращает его
		// unshift - Добавляет элемент в начало массива

		(function () {

			/*Получить последний элемент массива*/
			if(0) {
				var goods = ['a', 'b', 'c'];
				var last = goods[goods.length-1];
				console.log(last);
			}

			/*Добавить новый элемент в массив*/
			if(0) {
				var goods = ['a', 'b', 'c'];
				goods[goods.length] = 'Компьютер';
				console.log(goods);
			}
			/*Создание массива*/
			if(0) {
				var styles = ['Джаз', 'Блюз']; // 1
				styles.push('Рок-н-Ролл'); // 2
				styles[styles.length - 2] = 'Классика'; // 3
				console.log(styles.shift()); // 4
				styles.unshift('Рэп', 'Регги'); // 5
			}

			/*Получить случайное значение из массива*/
			if(0) {
				var arr = ["Яблоко", "Апельсин", "Груша", "Лимон"];
				var min = 0;
				var max = arr.length - 1;
				var rand = min + Math.floor(Math.random() * (max + 1 - min));
				// var rand = Math.floor(Math.random() * arr.length) // з learnjs
				console.log(arr[rand]);
			}

			/*Создайте калькулятор для введённых значений*/
			if(0) {
				var sum = [];
				var num;

				while(true) {
					num = prompt('number', 0);
					if (isNaN(num) || num == null) break;
					sum.push(parseFloat(num));
				}

				var calc = 0;
				for (var i=0; i<sum.length; i++) {
					calc += sum[i];
				}
				console.log(calc);
			}

			/*Поиск в массиве*/
			if(0) {
				ar = ['test', 2, 1.5, false];
				function find(arr, value) {
					for (var i = 0; i < arr.length; i++) {
						if (arr[i] === value) {
							return i;
						}
					}
					return -1;
				}

				console.log(find(ar, "test"));
				console.log(find(ar, 2));
				console.log(find(ar, 1.5));
				console.log(find(ar, 0));
			}

			/*Фильтр диапазона*/
			if(0) {

				function filterRange(array, a , b) {

					var newArray = [];

					for (var i = 0; i < array.length; i++) {
						if (  array[i] >= a &&  array[i] <= b ) {
							newArray.push(array[i]);
						}
					}
					return newArray;
				};

				var arr = [5, 4, 3, 8, 0];
				var filtered = filterRange(arr, 3, 5);
				console.log(filtered);

			}

			/*Решето Эратосфена*/
			if(0) {
				
				/*1*/
				var arr = [];

				for (var i = 2; i < 100; i++) {
					arr[i] = true
				}


				/*2*/
				var p = 2;

				do {
					/*3*/
					for (i = 2 * p; i < 100; i += p) {
						arr[i] = false;
					}

					/*4*/
					for (i = p + 1; i < 100; i++) {
						if (arr[i]) break;
					}

					p = i;
				}
				while (p * p < 100); /*5*/

				/*6*/
				var sum = 0;
				for (i = 0; i < arr.length; i++) {
					if (arr[i]) {
						sum += i;
					}
				}

				console.log( sum );

			}

			/*Подмассив наибольшей суммы*/
			if(0) {
				function getMaxSubSum(arr) {
					var maxSum = 0;

					for (var i = 0; i < arr.length; i++) {
						var sumFixedStart = 0;
						for (var j = i; j < arr.length; j++) {
							sumFixedStart += arr[j];
							maxSum = Math.max(maxSum, sumFixedStart);
						}
					}

					return maxSum;
				}

				console.log( getMaxSubSum([-1, 2, 3, -9]) );
				console.log( getMaxSubSum([-1, 2, 3, -9, 11]) );
				console.log( getMaxSubSum([-2, -1, 2, 2]) );
				console.log( getMaxSubSum([1, 2, 3]) );
				console.log( getMaxSubSum([100, -9, 2, -3, 5]) );
				console.log( getMaxSubSum([-1, -2, -3]) );
			}

		})();

		/*==== МАССИВЫ С ЧИСЛОВЫМИ ИНДЕКСАМИ END ====*/

		/*==== МАССИВЫ: МЕТОДЫ START ====*/
		// split() - позволяет превратить строку в массив
		// join() - берет массив и склеивает его в строку, используя str как разделитель
		// delete - удаление из массива
		// splice() - умеет удалять элементы, вставлять элементы, заменять элементы – по очереди и одновременно
		// slice(begin, end) копирует участок массива от begin до end, не включая end. Исходный массив при этом не меняется
		// sort() - сортирует массив на месте
		// arr.reverse() - меняет порядок элементов в массиве на обратный
		// arr.concat(value1, value2, … valueN) создаёт новый массив, в который копируются элементы из arr, а также value1, value2, ... valueN
		// indexOf/lastIndexOf - возвращает номер элемента снача/с конца
		// Object.keys(obj) возвращает массив свойств объекта


		(function () {

			/*Добавить класс в строку*/
			if(0) {

				var obj = {
					className: 'open menu'
				}

				function addClass(obj, cls) {

					var arr = obj.className.split(" ");

					for (let i = 0; i < arr.length; i++) {
						if (arr[i] === cls) return console.log('not unique')
					}

				arr.splice(arr.length, 0, cls);
				obj.className = arr.join(' ');
			}

			addClass(obj, 'new');
			addClass(obj, 'open');
			addClass(obj, 'open1');
			addClass(obj, 'new');
			console.log(obj);
		}

		/*Перевести текст вида border-left-width в borderLeftWidth*/
		if(1) {

			function camelize(str) {

				let arr = str.split('-');

				var newArr = [];

				for (let i = 0; i < arr.length; i++) {
					var getFL = arr[i].charAt(0).toUpperCase();
					var cutStr = arr[i].split('');
					cutStr[0] = getFL;
					var a = cutStr.join('');
					newArr = newArr.concat(a);

				}
				newArr = newArr.join('');
				
				console.log(newArr);
			};

			camelize('border-left-width');
			camelize("-webkit-transition");

		}


	})();

	/*==== МАССИВЫ: МЕТОДЫ END ====*/


</script>

</body>
</html>